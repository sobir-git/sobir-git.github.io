<!DOCTYPE html>
<html lang="en" id="top">
<head>
          <title>My Notes - Sorting</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="My Notes Full Atom Feed" />
        <link href="/feeds/data-structures-algorithms.atom.xml" type="application/atom+xml" rel="alternate" title="My Notes Categories Atom Feed" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/theme/css/rdark.css" />
        <link rel="stylesheet" type="text/css" href="/theme/css/relaunch.css" /><!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-8WVZ6PMB17"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-8WVZ6PMB17');
        </script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>






</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">My Notes</a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li class="active"><a href="/category/data-structures-algorithms.html">data structures & algorithms</a></li>
            <li><a href="/category/misc.html">misc</a></li>
            <li><a href="/category/probability-and-statistics.html">probability and statistics</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/sorting.html" rel="bookmark"
         title="Permalink to Sorting">Sorting</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2021-05-10T00:00:00+03:00">
      Mon 10 May 2021
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/sobir-bobiev.html">Sobir Bobiev</a>
    </address>
    <div class="category">
        Category: <a href="/category/data-structures-algorithms.html">data structures & algorithms</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <h2>Quicksort 0</h2>
<p>As an inspiration, this is a very beatiful implementation of quicksort. However not so efficient.</p>
<p><code>partition</code> procedure maintains a pointer <code>i</code> for which all elements <code>A[0 .. i - 1] &lt; pivot</code>.
At the end, it correctly places <code>pivot</code> in position <code>A[i]</code> by swapping.</p>
<div class="highlight"><pre><span></span><code>algorithm quicksort(A, lo, hi) is
    if lo &lt; hi then
        p := partition(A, lo, hi)
        quicksort(A, lo, p - 1)
        quicksort(A, p + 1, hi)

algorithm partition(A, lo, hi) is
    pivot := A[hi]
    i := lo
    for j := lo to hi do
        if A[j] &lt; pivot then
            swap A[i] with A[j]
            i := i + 1
    swap A[i] with A[hi]
    return i
</code></pre></div>

<h2>Quicksort 1</h2>
<p>This is the original implementation by Hoare</p>
<div class="highlight"><pre><span></span><code>algorithm quicksort(A, lo, hi) is
    if lo &lt; hi then
        p := partition(A, lo, hi)
        quicksort(A, lo, p)
        quicksort(A, p + 1, hi)

algorithm partition(A, lo, hi) is
    pivot := A[ floor((hi + lo) / 2) ]
    i := lo - 1
    j := hi + 1
    loop forever
        do
            i := i + 1
        while A[i] &lt; pivot
        do
            j := j - 1
        while A[j] &gt; pivot
        if i â‰¥ j then
            return j
        swap A[i] with A[j]
</code></pre></div>

<p>compared to previous implementation this does less swap operations.</p>
<h2>Partition schemes</h2>
<p>As you have noticed different implementations differ by their partition schemes, that is how they partition the array into two subarrays where all elements in the first subarray are no greater than the elements in the second subarray. The algorithm proceeds recursively to sort each of the subarrays. What stands between the subarrays is <em>pivot</em>. Some implementations choose pivot as the first or last or middle or median element of the array. </p>
<p><strong>Choices of pivot:</strong></p>
<ul>
<li>The best pivot is <strong>median</strong>, but it's often inefficient to compute.</li>
<li>Pivot as <strong>first or last element</strong> produces worst case <span class="math">\(O(n^2)\)</span> runtime when the array is already sorted. </li>
<li><strong>Random pivots</strong> are a good choice.</li>
<li>Pivot as the <strong>median of the first, middle and last element</strong> not only eliminates worst case runtime for already sorted arrays but turns them into best cases.</li>
</ul>
<p><strong>Questions to consider:</strong></p>
<ul>
<li>What happens when all elements are equal?</li>
<li>What happens when multiple elements are equal to the pivot?</li>
</ul>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div><!-- /.entry-content -->
</section>
        <a href="#top" class="js-scroll-top"> top </a> 
        <footer id="contentinfo" class="body">
            <address id="about" class="vcard body">
            Powered by <a href="https://getpelican.com/">Pelican</a>,
            Theme adapted from <a href="https://github.com/matuzo/matuzoat/">matuzo</a>.
            </address><!-- /#about -->
            <!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>